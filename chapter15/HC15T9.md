-- HC15T9 : Utiliser try pour intercepter les exceptions IO de fichier

import System.IO
import Control.Exception (try, IOException)

main :: IO ()
main = do
    putStrLn "=== Lecture sécurisée d'un fichier avec try ==="
    
    -- On tente de lire un fichier
    result <- try (readFile "donnees.txt") :: IO (Either IOException String)
    
    case result of
        Left err   -> putStrLn $ " Erreur lors de la lecture du fichier : " ++ show err
        Right contenu -> putStrLn $ " Contenu du fichier :\n" ++ contenu

